{% set socialLinks = {
    "facebook-f": "https://www.facebook.com/DaveRudolphMusic",
    "instagram":"https://www.instagram.com/daverudolphmusic",
    "x-twitter":"https://music.youtube.com/channel/UC6hkMDC5qOwwwZiitKFftTQ",
    "youtube": "https://music.apple.com/us/artist/dave-rudolph/1537874270",
    "applemusic":"https://music.apple.com/us/artist/dave-rudolph/1537874270",
    "tiktok":"https://www.tiktok.com/@daverudolphmusic",
    "amazon": "https://music.amazon.com/artists/B07FC6YDC2/dave-rud",
    "bandcamp":"https://daverudolphmusic.bandcamp.com/releases",
    "deezer": "https://deezer.page.link/n66HUgRhtmAd9yc58"
} %}

{% set anchorClass = "my-2 mx-3 sm:m-2 rounded-full p-2 border-2 border-primary shadow-sm" %}
{% set hoverClass = "hover:text-secondary hover:border-secondary hover:[&_svg]:text-secondary transform hover:scale-125 transition duration-300 ease-out" %}

<!-- Social icons row -->
<nav class="container mx-auto flex justify-center flex-wrap sm:flex-nowrap py-4 sm:py-8 md:pb-10 md:pt-5" id="footer">
    {% for icon, url in socialLinks %}
        <a href="{{ url }}" class="{{ anchorClass}} {{ hoverClass }}" target="_blank" rel="noopener">
            <svg class="h-4 w-4 text-primary">
                <use xlink:href="#{{ icon }}"></use>
            </svg>
        </a>
    {% endfor %}
</nav>


<script>
  const darkModeSwitch = document.getElementById("darkModeSwitch");
  const body = document.body;
  const slider = darkModeSwitch.querySelector(".lightswitch-slider");

  // Function to set the cookie with an expiration time of 30 minutes
  function setDarkModeCookie(value) {
    let expirationTime = new Date();
    expirationTime.setTime(expirationTime.getTime() + 30 * 60 * 1000);
    let expires = "expires=" + expirationTime.toUTCString();
    document.cookie = "dark-mode=" + value + "; " + expires + "; path=/";
  }

  // Function to get the value of the dark-mode cookie
  function getDarkModeCookie() {
    const name = "dark-mode=";
    const decodedCookie = decodeURIComponent(document.cookie);
    const cookieArray = decodedCookie.split(';');

    for (let i = 0; i < cookieArray.length; i++) {
      let cookie = cookieArray[i];
      while (cookie.charAt(0) === ' ') {
        cookie = cookie.substring(1);
      }
      if (cookie.indexOf(name) === 0) {
        return cookie.substring(name.length, cookie.length);
      }
    }
    return null;
  }

  // Check the initial state of the cookie and update UI accordingly
  const initialDarkModeValue = getDarkModeCookie();
  if (initialDarkModeValue === "1") {
    body.classList.add("dark-mode");
    slider.classList.add("slide-right");
  }

  // Event listener for the darkModeSwitch
  darkModeSwitch.addEventListener("click", () => {
    const currentDarkModeValue = getDarkModeCookie();

    // Toggle the cookie value
    const newDarkModeValue = currentDarkModeValue === "1" ? "0" : "1";
    setDarkModeCookie(newDarkModeValue);

    // Toggle the UI
    body.classList.toggle("dark-mode");
    slider.classList.toggle("slide-right");
  });

</script>

<div class="fixed left-0 bottom-0 text-center flex">
    {% if currentUser|boolean %}
        <div class="inline-block px-4 py-2 bg-teal-400
                  before:content-['mobile']
                  sm:before:content-['sm']
                  md:before:content-['md']
                  lg:before:content-['lg']
                  xl:before:content-['xl']">
        </div>
    {% endif %}
</div>

{% include "_components/svg.twig" %}
</body>
</html>